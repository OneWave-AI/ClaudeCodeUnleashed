@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap');
@import './animations.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Brand Colors */
  --accent-red: #cc785c;
  --accent-red-glow: rgba(204, 120, 92, 0.4);

  /* Grayscale */
  --gray-10: #f4f4f4;
  --gray-20: #e0e0e0;
  --gray-50: #8d8d8d;
  --gray-70: #525252;
  --gray-80: #393939;
  --gray-85: #2a2a2a;
  --gray-90: #262626;
  --gray-95: #1a1a1a;
  --gray-100: #161616;
  --gray-110: #0d0d0d;

  /* Glass effects */
  --glass-bg: rgba(38, 38, 38, 0.7);
  --glass-border: rgba(255, 255, 255, 0.08);
  --glass-highlight: rgba(255, 255, 255, 0.05);

  /* Shadows */
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.5);
  --shadow-inset: inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html,
body,
#root {
  height: 100%;
  width: 100%;
  overflow: hidden;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
}

body {
  background: var(--gray-110);
  color: var(--gray-10);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  letter-spacing: -0.01em;
}

/* Ambient Glow Animations */
@keyframes glowSweep {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(300%); }
}

@keyframes subtlePulse {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.6; }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--gray-70);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--gray-50);
}

/* Titlebar drag region */
.titlebar-drag {
  -webkit-app-region: drag;
}

.titlebar-no-drag {
  -webkit-app-region: no-drag;
}

/* Header with glow sweep */
.header-glow::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 30%;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--accent-red-glow), transparent);
  animation: glowSweep 10s ease-in-out infinite;
  pointer-events: none;
}

/* Terminal styles */
.xterm {
  padding: 12px;
}

.xterm-viewport {
  overflow-y: auto !important;
}

/* Focus styles */
*:focus {
  outline: none;
}

*:focus-visible {
  outline: 2px solid var(--accent-red);
  outline-offset: 2px;
}

/* Selection */
::selection {
  background-color: rgba(204, 120, 92, 0.3);
}

/* Button hover effects */
.btn-hover {
  @apply transition-all duration-150;
}

.btn-hover:hover {
  @apply bg-surface-hover;
}

.btn-hover:active {
  @apply scale-95;
}

/* Glass card effect */
.glass-card {
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(10px);
  box-shadow: var(--shadow-md), var(--shadow-inset);
}

/* ===========================================
   ACCESSIBILITY FEATURES
   =========================================== */

/* Screen reader only content - visually hidden but accessible */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Skip to main content link */
.skip-to-main {
  position: absolute;
  top: -100%;
  left: 50%;
  transform: translateX(-50%);
  z-index: 9999;
  padding: 1rem 2rem;
  background: var(--accent-red);
  color: white;
  font-weight: 600;
  border-radius: 0 0 8px 8px;
  text-decoration: none;
  transition: top 0.2s ease-in-out;
}

.skip-to-main:focus {
  top: 0;
  outline: 3px solid white;
  outline-offset: 2px;
}

/* Enhanced focus visible styles */
*:focus-visible {
  outline: 2px solid var(--accent-red);
  outline-offset: 2px;
  border-radius: 4px;
}

/* Focus ring utility class */
.focus-ring {
  transition: box-shadow 0.15s ease-in-out;
}

.focus-ring:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px var(--gray-110), 0 0 0 4px var(--accent-red);
}

/* High contrast focus for buttons */
button:focus-visible,
[role="button"]:focus-visible {
  outline: 2px solid var(--accent-red);
  outline-offset: 2px;
}

/* Focus styles for inputs */
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: 2px solid var(--accent-red);
  outline-offset: 0;
  border-color: var(--accent-red);
}

/* ===========================================
   REDUCED MOTION PREFERENCES
   =========================================== */

/* Respect user's reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  /* Disable specific animations */
  .animate-pulse,
  .animate-spin,
  .animate-bounce {
    animation: none !important;
  }

  /* Remove glow sweep animation */
  .header-glow::after {
    animation: none !important;
  }

  /* Disable backdrop blur which can cause motion issues */
  .backdrop-blur-sm,
  .backdrop-blur,
  .backdrop-blur-md,
  .backdrop-blur-lg,
  .backdrop-blur-xl {
    backdrop-filter: none !important;
  }
}

/* Utility class to force reduced motion */
.reduce-motion {
  animation: none !important;
  transition: none !important;
}

/* ===========================================
   COLOR CONTRAST IMPROVEMENTS (WCAG AA)
   =========================================== */

/* Ensure minimum contrast ratios for text */
/* gray-400 (#9ca3af) on #0d0d0d = 7.5:1 (AAA compliant) */
/* gray-500 (#6b7280) on #0d0d0d = 4.6:1 (AA compliant) */
/* gray-600 (#4b5563) on #0d0d0d = 2.9:1 (NOT compliant - use sparingly for decorative) */

/* High contrast text helper */
.text-high-contrast {
  color: var(--gray-10); /* #f4f4f4 - 17.9:1 contrast on dark bg */
}

/* Medium contrast text helper (WCAG AA compliant) */
.text-medium-contrast {
  color: var(--gray-50); /* #8d8d8d - 5.9:1 contrast on dark bg */
}

/* Accent color has good contrast - 4.5:1 minimum */
/* #cc785c on #0d0d0d = 5.4:1 (AA compliant) */

/* ===========================================
   KEYBOARD NAVIGATION HELPERS
   =========================================== */

/* Make focus order visible */
[tabindex="0"]:focus,
[tabindex]:not([tabindex="-1"]):focus {
  outline: 2px solid var(--accent-red);
  outline-offset: 2px;
}

/* Interactive element hover/focus consistency */
.interactive {
  cursor: pointer;
  transition: background-color 0.15s ease-in-out, transform 0.1s ease-in-out;
}

.interactive:hover {
  background-color: rgba(255, 255, 255, 0.05);
}

.interactive:focus-visible {
  outline: 2px solid var(--accent-red);
  outline-offset: 2px;
}

.interactive:active {
  transform: scale(0.98);
}

@media (prefers-reduced-motion: reduce) {
  .interactive {
    transition: none;
  }

  .interactive:active {
    transform: none;
  }
}

/* ===========================================
   ARIA LIVE REGIONS
   =========================================== */

/* Status messages container */
[aria-live="polite"],
[aria-live="assertive"],
[role="status"],
[role="alert"] {
  /* Ensure live regions are accessible but not visually intrusive */
}

/* Alert styling for important announcements */
[role="alert"]:not(.sr-only) {
  padding: 0.75rem 1rem;
  border-radius: 8px;
  background-color: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.3);
}

/* ===========================================
   HIGH CONTRAST MODE SUPPORT
   =========================================== */

@media (prefers-contrast: high) {
  :root {
    --glass-border: rgba(255, 255, 255, 0.3);
  }

  *:focus-visible {
    outline-width: 3px;
  }

  button,
  [role="button"] {
    border: 2px solid currentColor;
  }
}
